<div class="main">
  <h2 >History</h2>
  <div class="historywrap">
    <input class="history" [(ngModel)]="fromDate" type="date" />
    to
    <input class="history" [(ngModel)]="toDate" type="date" />
    <button class="history" mat-flat-button color="primary" (click)="updateHistory()">view</button>
    <div class="search" [ngStyle]="{'visibility': showTable }">
      <input
        class="input1"
        matInput
        (keyup)="applyFilter($event)"
        placeholder="Filter"
        #input
      />
    </div>
  </div>
</div>

<div [ngStyle]="{'visibility': showTable }">
  
  <mat-table
    class="courses-table mat-table mat-elevation-z8 applicationtable"
    matSort
    [dataSource]="dataSource"
  >
    <ng-container matColumnDef="_id">
      <div *matHeaderCellDef class="mat-header-cell" mat-sort-header>
        Course Name
      </div>
      <div
        *matCellDef="let application"
        data-label="Course Name"
        class="mat-cell"
      >
        {{ application._id }}
      </div>
    </ng-container>

    <ng-container matColumnDef="status">
      <div *matHeaderCellDef class="mat-header-cell" mat-sort-header>
        Enabled
      </div>
      <div
        class="enabled-cell"
        *matCellDef="let application"
        data-label="Enabled"
        class="mat-cell"
      >
        {{ application.status }}
      </div>
    </ng-container>

    <ng-container matColumnDef="createdAt">
      <div *matHeaderCellDef class="mat-header-cell" mat-sort-header>
        Created At
      </div>
      <div
        class="createdAt-cell"
        *matCellDef="let application"
        data-label="Created At"
        class="mat-cell"
      >
        {{ application.createdAt | date: "dd.MM.y HH:mm:ss" }}
      </div>
    </ng-container>

    <mat-header-row *matHeaderRowDef="tableColumns"></mat-header-row>

    <mat-row
      *matRowDef="let application; columns: tableColumns"
      class="mat-row"
    ></mat-row>

    <div class="mat-row nodata" *matNoDataRow>
      <div class="mat-cell" colspan="4">No matching data</div>
    </div>
  </mat-table>

  <mat-paginator
    class="paginator"
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
    aria-label="Select page of periodic elements"
  >
  </mat-paginator>

  <button class="export"  mat-flat-button color="primary" (click)="createExcel()">
    Export as Excel
  </button>
  <button class="export" mat-flat-button color="primary" (click)="createPdf()">
    Export as pdf
  </button>
</div>
